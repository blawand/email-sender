<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OmniSend - Welcome</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
    <style>
      .hero-section {
        background: linear-gradient(
            rgba(var(--bs-primary-rgb), 0.8),
            rgba(var(--bs-primary-rgb), 0.9)
          ),
          url("https://images.unsplash.com/photo-1562577309-2592ab84b1bc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1974&q=80"); /* Placeholder image */
        background-size: cover;
        background-position: center;
        color: white;
        padding: 6rem 0;
        text-align: center;
        min-height: 60vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .hero-section h1 {
        font-size: 3.5rem;
        font-weight: 700;
        color: white;
        margin-bottom: 1rem;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
      }
      .hero-section p.lead {
        font-size: 1.4rem;
        font-weight: 400;
        color: rgba(255, 255, 255, 0.85);
        max-width: 700px;
        margin: 0 auto 2rem auto;
      }
      .hero-section .btn-launch {
        font-size: 1.2rem;
        padding: 0.8rem 2.5rem;
        background-color: #ffffff;
        color: var(--bs-primary);
        font-weight: 600;
        border: none;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }
      .hero-section .btn-launch:hover {
        background-color: #f8f9fa;
        color: rgb(var(--bs-primary-rgb), 0.8);
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
      }
      .features-section {
        padding: 4rem 0;
      }
      .feature-card {
        background-color: #fff;
        border-radius: 0.5rem;
        padding: 2rem;
        text-align: center;
        box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.05);
        border: 1px solid var(--bs-card-border-color);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        height: 100%; /* Ensure cards have same height */
      }
      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.1);
      }
      .feature-icon {
        font-size: 3rem;
        color: var(--bs-primary);
        margin-bottom: 1.5rem;
        display: inline-block;
        line-height: 1;
      }
      .feature-card h3 {
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 0.75rem;
      }
      .feature-card p {
        color: var(--bs-secondary);
        font-size: 0.95rem;
      }
      .security-section {
        background-color: var(--bs-light);
        padding: 3rem 0;
        text-align: center;
      }
      .security-section h2 {
        margin-bottom: 1.5rem;
      }
      .security-section p {
        max-width: 600px;
        margin: 0 auto 1rem auto;
        color: var(--bs-secondary);
      }
      .security-icon {
        font-size: 2rem;
        color: var(--bs-primary);
        margin: 0 0.5rem;
      }
      .footer-landing {
        padding: 2rem 0;
        background-color: #e9ecef;
        color: var(--bs-secondary);
        font-size: 0.9rem;
      }
    </style>
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-light bg-light shadow-sm sticky-top"
    >
      <div class="container">
        <a class="navbar-brand fw-bold" href="{{ url_for('index') }}">
          <i class="bi bi-envelope-paper-heart-fill me-2 text-primary"></i
          >OmniSend
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#landingNav"
          aria-controls="landingNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="landingNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#features">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#security">Security</a>
            </li>
            <li class="nav-item">
              <a
                href="{{ url_for('main_app') }}"
                class="btn btn-primary ms-lg-3"
                >Launch App</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
      <div class="container">
        <i
          class="bi bi-send-check-fill display-1 mb-3"
          style="font-size: 5rem !important"
        ></i>
        <h1 class="display-4">Send Personalized Emails Effortlessly</h1>
        <p class="lead">
          Use your Gmail account to send customized emails to lists from a CSV
          or manually entered recipients. Perfect for newsletters,
          announcements, and personalized outreach.
        </p>
        <a href="{{ url_for('main_app') }}" class="btn btn-launch">
          <i class="bi bi-google me-2"></i>Sign In & Launch App
        </a>
        <p class="mt-3 small text-white-50">
          Requires Google Account Authentication
        </p>
      </div>
    </section>

    <!-- Display Errors (e.g., from OAuth callback) -->
    {% if error %}
    <div class="container mt-4">
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        <strong>Authentication Error:</strong>
        {% if error == 'config_missing' %} Server configuration error (missing
        credentials). Please contact the administrator. {% elif error ==
        'auth_failed' %} Authentication failed or is required. Please try
        launching the app again. {% elif error == 'oauth_error' %} An error
        occurred during Google sign-in. {{ details }} Please try again. {% elif
        error == 'scope_error' %} There was an issue with the permissions
        requested during sign-in. {{ details }} Please try again. {% elif error
        == 'transport_error' %} Insecure connection detected during sign-in.
        Please ensure you are using HTTPS or contact the administrator. {% else
        %} An unknown error occurred during authentication. Please try again. {%
        endif %}
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
    </div>
    {% endif %}

    <!-- Features Section -->
    <section id="features" class="features-section">
      <div class="container">
        <h2 class="text-center mb-5">Why Use OmniSend?</h2>
        <div class="row g-4">
          <div class="col-md-4">
            <div class="feature-card">
              <div class="feature-icon"><i class="bi bi-filetype-csv"></i></div>
              <h3>CSV Personalization</h3>
              <p>
                Upload a CSV file with recipient data. Use column headers like
                {FirstName} or {OrderNumber} directly in your subject and body
                for personalized emails.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-card">
              <div class="feature-icon"><i class="bi bi-list-ul"></i></div>
              <h3>Manual Sending</h3>
              <p>
                Quickly send the same email to a list of recipients you type or
                paste in. Great for simple group messages or announcements.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-card">
              <div class="feature-icon"><i class="bi bi-paperclip"></i></div>
              <h3>Attachments Supported</h3>
              <p>
                Easily attach files to your emails. Send documents, images, or
                other resources along with your message (subject to size
                limits).
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="bi bi-pencil-square"></i>
              </div>
              <h3>Rich Text Editor</h3>
              <p>
                Compose your emails using a familiar rich text editor. Format
                text, add links, lists, and more to create professional-looking
                messages.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-card">
              <div class="feature-icon"><i class="bi bi-eye"></i></div>
              <h3>Live Preview</h3>
              <p>
                Generate a preview before sending. See how your email will look
                with placeholders filled (CSV mode) or the static content
                (Manual mode).
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-card">
              <div class="feature-icon"><i class="bi bi-shield-check"></i></div>
              <h3>Secure Google Sign-In</h3>
              <p>
                Uses Google OAuth 2.0 for secure authentication. Your Google
                password is never seen or stored by OmniSend. Emails are sent
                via your own Gmail account.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Security Section -->
    <section id="security" class="security-section">
      <div class="container">
        <h2><i class="bi bi-lock-fill me-2"></i>Secure and Private</h2>
        <p>
          OmniSend utilizes Google's secure OAuth 2.0 protocol for
          authentication. This means you log in directly with Google, and
          OmniSend only receives temporary permission to send emails on your
          behalf. Your Google password is never shared with or stored by this
          application.
        </p>
        <p>
          We respect your privacy. Please review our
          <a href="{{ url_for('privacy') }}">Privacy Policy</a> for details.
        </p>
        <div>
          <i class="bi bi-google security-icon" title="Google OAuth"></i>
          <i
            class="bi bi-shield-lock-fill security-icon"
            title="Secure Authentication"
          ></i>
          <i
            class="bi bi-envelope-check-fill security-icon"
            title="Sends via Your Gmail"
          ></i>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer-landing text-center">
      <div class="container">
        <span>OmniSend v2.2</span> |
        <a href="{{ url_for('privacy') }}" class="text-muted">Privacy Policy</a>
      </div>
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
